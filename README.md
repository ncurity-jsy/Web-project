### **1. 요구사항 정의 (Requirements Definition)**

#### **1.1. 기능적 요구사항 (Functional Requirements)**

| ID | 기능 | 상세 설명 | 우선순위 |
| :-- | :--- | :--- | :--- |
| **FR-01** | **사용자 인증** | - **로그인:** 사용자는 ID/이메일과 비밀번호로 로그인할 수 있다. `POST /api/auth/login/` 요청 시, 서버는 **(1)계정 유효성**과 **(2)포털 접근 권한**을 순차적으로 확인한다.<br>  - **권한이 있는 경우:** 인증 성공 응답과 함께 세션 쿠키를 발급하고 대시보드로 리디렉션한다.<br>  - **권한이 없는 경우:** 계정은 유효하나 권한이 없으면, 관리자에게 자동으로 권한을 요청하고 사용자에게 "권한이 요청되었습니다. 관리자 승인 후 이용 가능합니다." 메시지를 표시한다. 로그인 상태는 되지 않는다.<br>- **로그인 상태 유지:** 로그인 폼의 '로그인 상태 유지' 체크 시, 세션 만료 기간을 30일로 설정한다. 미체크 시 브라우저 세션이 종료되면 만료된다.<br>- **로그아웃:** 사용자가 '로그아웃' 버튼을 클릭하면 `POST /api/auth/logout/` 요청으로 세션을 무효화하고 로그인 페이지로 이동한다.<br>- **에러 처리:** "존재하지 않는 사용자입니다", "비밀번호가 일치하지 않습니다" 등 실패 사유를 명확히 표시한다. | **High** |
| **FR-02** | **개인 포털 대시보드** | - **레이아웃:** 로그인 후, `GET /api/apps/`를 호출하여 개인화된 앱 목록을 표시한다. 앱 목록은 반응형 그리드(데스크톱 4열, 태블릿 3열, 모바일 2열)로 구성한다.<br>- **앱 카드:** 각 카드는 아이콘, 이름, '더보기(...)' 메뉴(수정/삭제 포함)로 구성된다. 카드에 마우스를 올리면 입체감을 주는 호버 효과를 적용한다.<br>- **빈 상태(Empty State):** 등록된 앱이 없을 경우, "등록된 앱이 없습니다. '앱 추가' 버튼을 눌러 나만의 포털을 만들어 보세요!" 메시지와 '앱 추가' 버튼을 중앙에 표시한다. | **High** |
| **FR-03** | **앱 등록** | - **모달 폼:** 사용자가 '앱 추가' 버튼을 클릭하면 앱 이름(필수, 50자 제한), URL(필수, 유효성 검사)을 입력받는 모달 창을 표시한다.<br>- **데이터 처리:** '저장' 버튼 클릭 시, `POST /api/apps/` 요청으로 데이터를 전송한다. URL은 `http://` 또는 `https://`로 시작하는지 검증한다.<br>- **아이콘:** (선택 사항) 사용자는 `POST /api/apps/upload-icon/`을 통해 아이콘 이미지를 업로드할 수 있다. 미업로드 시 기본 아이콘을 사용한다. | **High** |
| **FR-04** | **앱 수정** | - **동작:** 사용자가 앱 카드의 '수정' 메뉴를 선택하면, 기존 정보가 채워진 등록 폼과 동일한 모달 창을 연다.<br>- **데이터 처리:** '저장' 버튼 클릭 시, `PUT /api/apps/{id}/` 요청으로 변경된 데이터를 전송하고, 성공 시 대시보드 UI를 즉시 업데이트한다.<br>- **피드백:** 수정 완료 시 "성공적으로 수정되었습니다."와 같은 Toast 메시지를 잠시 표시한다. | **Medium** |
| **FR-05** | **앱 삭제** | - **확인 절차:** 사용자가 '삭제' 메뉴를 선택하면, **"정말로 '{앱 이름}' 앱을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."** 라는 내용의 확인 다이얼로그를 표시한다.<br>- **데이터 처리:** 사용자가 '확인'을 누르면 `DELETE /api/apps/{id}/` 요청을 보내고, 성공 시 대시보드에서 해당 앱 카드를 즉시 제거한다. | **Medium** |
| **FR-06** | **앱 실행** | - **동작:** 사용자가 앱 카드를 클릭하면, `<a>` 태그의 `href`에 저장된 URL을 `target="_blank"` 속성을 이용해 새 탭에서 연다.<br>- **보안:** `rel="noopener noreferrer"` 속성을 추가하여 보안 취약점을 방지한다.<br>- **URL 처리:** 저장된 URL이 완전한 형태가 아닐 경우, `https://`를 자동으로 추가하여 처리한다. | **High** |
| **FR-07** | **UI/UX** | - **헤더:** 대시보드 상단 헤더에는 사용자 이름과 '로그아웃' 기능이 포함된 드롭다운 메뉴를 배치한다.<br>- **키보드 네비게이션:** Tab 키를 이용하여 헤더, 앱 카드, 관리 버튼 등 모든 인터랙티브 요소에 순차적으로 접근하고 Enter 키로 실행할 수 있어야 한다. | **Medium** |
| **FR-08** | **관리자 기능 (권한 관리)** | - **권한 요청 알림:** 권한 없는 사용자가 로그인을 시도하면, 관리자에게 알림(이메일, 시스템 알림 등)이 전송되어야 한다.<br>- **권한 관리 페이지:** 관리자는 '권한 관리' 페이지에서 포털 사용 권한을 요청한 사용자 목록을 확인할 수 있어야 한다.<br>- **권한 승인/거절:** 관리자는 각 요청에 대해 '승인' 또는 '거절' 처리를 할 수 있어야 한다.<br>- **결과 통보:** 승인 또는 거절 시, 해당 사용자에게 처리 결과가 통보되어야 한다. | **Medium** |

#### **1.2. 비기능적 요구사항 (Non-Functional Requirements)**

| ID | 구분 | 상세 설명 |
| :-- | :--- | :--- |
| **NFR-01** | **성능** | - **페이지 로딩:** Time to First Byte (TTFB) 500ms 이내, First Contentful Paint (FCP) 1.5초 이내, 최종 페이지 로딩(Load) 3초 이내를 목표로 한다.<br>- **동시 접속:** 500명의 동시 사용자가 앱 목록 조회, 추가, 삭제 등의 핵심 기능을 사용할 때, 서버 평균 응답 시간을 2초 이내로 유지한다.<br>- **데이터베이스:** 앱 목록 조회(`SELECT`) 쿼리는 인덱스를 활용하여 100ms 이내에 완료되어야 한다. |
| **NFR-02** | **보안** | - **데이터 전송:** TLS 1.2 이상을 사용하여 모든 HTTP 트래픽을 암호화한다 (HTTPS 강제).<br>- **비밀번호:** Django의 기본 해시 시스템(PBKDF2)을 사용하여 안전하게 해시화하여 저장한다.<br>- **세션 관리:** Secure, HttpOnly 플래그를 적용한 세션 쿠키를 사용하며, 30일 후 자동 만료된다.<br>- **입력 검증:** Django Form/Serializer를 이용해 모든 사용자 입력 값에 대해 서버 사이드 유효성 검사(XSS, SQL Injection 방지)를 수행한다.<br>- **파일 업로드:** 업로드된 파일은 서버에서 확장자를 재검증하며, 5MB 이하의 `jpg`, `png`, `gif` 파일만 허용한다. |
| **NFR-03** | **사용성** | - **반응형 디자인:** 주요 중단점(Breakpoints)을 모바일(최대 767px), 태블릿(768px-1023px), 데스크톱(1024px 이상)으로 설정하고 각 해상도에 최적화된 레이아웃을 제공한다.<br>- **직관성:** 사용자가 별도의 가이드 없이 5분 이내에 로그인, 앱 추가/수정/삭제, 앱 실행 등 핵심 기능을 모두 사용할 수 있어야 한다.<br>- **접근성:** 시맨틱 HTML 태그를 사용하고 모든 이미지에 `alt` 속성을 제공하는 등 WCAG 2.1 Level AA 표준을 준수한다. |
| **NFR-04** | **신뢰성** | - **가용성 (Availability):** 월간 가용성 99.5%를 목표로 한다 (월 3.6시간 이하의 다운타임 허용).<br>- **데이터 백업:** RPO(복구 목표 시점) 24시간, RTO(복구 목표 시간) 4시간을 목표로 한다. 데이터베이스는 매일 자동 백업되며, 백업 파일은 최소 30일간 안전한 저장소(S3)에 보관한다. |
| **NFR-05** | **확장성** | - **아키텍처:** 백엔드 API 서버는 상태를 저장하지 않는 Stateless 아키텍처로 설계하여 수평 확장이 용이하도록 한다.<br>- **SSO 연동:** 향후 SAML, OAuth 2.0 프로토콜 기반의 SSO 연동을 고려하여 Django의 인증 백엔드를 확장 가능한 구조로 설계한다. |

---

### **2. 사용자 시나리오 (User Scenarios)**

#### **시나리오 1: 신규 사용자의 첫 포털 설정**

- **Actor:** 김대리 (회사 직원, 포털 첫 사용자)
- **Pre-conditions:** 김대리는 유효한 사내 계정(ID, PW)을 가지고 있으며, 포털에 한 번도 접속한 적이 없다.
- **Goal:** 처음으로 개인 포털에 접속하여 자주 사용하는 'Gmail'과 'Jira'를 등록하고, 정상적으로 실행되는지 확인한다.
- **Post-conditions:** 김대리의 계정에 'Gmail'과 'Jira' 앱 정보가 저장되고, 대시보드에 두 개의 앱 카드가 표시된다.

| 단계 | 사용자 행동 (User Action) | 시스템 반응 (System Response) |
| :--- | :--- | :--- |
| 1 | 웹 브라우저에서 포털 주소로 접속한다. | 로그인 페이지를 표시한다. |
| 2 | ID와 PW를 입력하고 '로그인 상태 유지'를 체크한 후 '로그인' 버튼을 클릭한다. | **POST /api/auth/login/** 요청을 보낸다. 서버는 인증 성공 후 세션 쿠키를 발급하고, 개인 대시보드 화면으로 리디렉션한다. |
| 3 | "앱을 등록하여..." 안내 메시지와 '앱 등록하기' 버튼을 확인한다. | `GET /api/apps/` 응답이 비어있음을 확인하고, 빈 상태(Empty State) UI를 렌더링한다. |
| 4 | '앱 등록하기' 버튼을 클릭하고, 모달 폼에 'Gmail', 'https://mail.google.com'을 입력 후 '저장'한다. | **POST /api/apps/** 요청으로 데이터를 전송한다. 서버는 유효성 검사 후 데이터를 저장하고 성공 응답(201 Created)을 반환한다. |
| 5 | 대시보드에 'Gmail' 카드가 추가된 것을 확인한다. | API 성공 응답을 받으면, 클라이언트는 대시보드 상태를 업데이트하여 새로운 앱 카드를 즉시 렌더링한다. |
| 6 | 다시 '앱 등록하기'를 눌러 'Jira', 'https://company.atlassian.net'을 등록하고 '저장'한다. | 위 4~5단계와 동일한 프로세스를 반복한다. |
| 7 | 대시보드에 'Jira' 카드가 추가되어 총 2개의 앱이 표시되는 것을 확인한다. | 대시보드에는 이제 2개의 앱 카드가 렌더링된다. |
| 8 | 'Gmail' 앱 카드를 클릭한다. | `<a>` 태그의 `href` 속성에 따라 새 탭(`target="_blank"`)에서 `https://mail.google.com`이 열린다. 기존 포털 탭은 그대로 유지된다. |

#### **시나리오 2: 기존 사용자의 새 앱 등록 및 삭제**

- **Actor:** 박과장 (포털 기존 사용자)
- **Pre-conditions:** 박과장은 포털에 'Trello' 등 여러 앱을 등록해 두었다. 새로운 업무 도구인 '엔큐리티 open web ui'를 추가해야 한다.
- **Goal:** 새로운 '엔큐리티 open web ui' 앱을 등록하고, 더 이상 사용하지 않는 'Trello' 앱을 삭제한다.
- **Post-conditions:** '엔큐리티 open web ui' 앱이 새로 추가되고, 'Trello' 앱은 계정에서 영구히 삭제된다.

| 단계 | 사용자 행동 (User Action) | 시스템 반응 (System Response) |
| :--- | :--- | :--- |
| 1 | 포털에 접속한다. | 유효한 세션 쿠키가 있어 자동 로그인 처리되고, `GET /api/apps/`를 통해 앱 목록이 표시된 대시보드를 즉시 보여준다. |
| 2 | '앱 추가' 버튼을 클릭하고, 모달 폼에 '엔큐리티 open web ui', 'http://192.168.32.24:3000/'을 입력 후 '저장'한다. | **POST /api/apps/** 요청으로 데이터를 전송한다. 서버는 유효성 검사 후 데이터를 저장하고 성공 응답(201 Created)을 반환한다. |
| 3 | 대시보드에 '엔큐리티 open web ui' 카드가 추가된 것을 확인한다. | API 성공 응답 후, 클라이언트는 UI를 업데이트하고 "앱이 추가되었습니다." Toast 메시지를 표시한다. |
| 4 | 이어서, 더 이상 사용하지 않는 'Trello' 앱 카드의 '더보기(...)' 메뉴를 클릭하고 '삭제'를 선택한다. | **"정말로 'Trello' 앱을 삭제하시겠습니까?"** 라는 확인 다이얼로그를 표시한다. |
| 5 | '확인' 버튼을 클릭한다. | **DELETE /api/apps/{id}/** 요청을 전송한다. 서버는 데이터를 삭제하고 성공 응답(204 No Content)을 반환한다. |
| 6 | 대시보드에서 'Trello' 앱 카드가 사라진 것을 확인한다. | API 성공 응답 후, 클라이언트는 UI에서 해당 앱 카드를 즉시 제거한다. |

#### **시나리오 3: 로그인 실패 및 재시도**

- **Actor:** 이사원 (회사 직원)
- **Pre-conditions:** 이사원은 유효한 계정을 가지고 있지만, 비밀번호를 잊어버렸을 수 있다.
- **Goal:** 포털에 로그인하려 했으나 비밀번호를 잘못 입력하여 실패하고, 올바른 정보로 다시 로그인한다.
- **Post-conditions:** 이사원이 성공적으로 로그인하여 개인 대시보드에 접근한다.

| 단계 | 사용자 행동 (User Action) | 시스템 반응 (System Response) |
| :--- | :--- | :--- |
| 1 | 포털 로그인 페이지에 접속하여 ID와 잘못된 비밀번호를 입력 후 '로그인' 버튼을 클릭한다. | **POST /api/auth/login/** 요청을 보낸다. 서버는 인증 실패 후 에러 응답(400 Bad Request)을 반환한다. |
| 2 | "ID 또는 비밀번호가 올바르지 않습니다." 에러 메시지를 확인한다. | API 에러 응답을 바탕으로, 로그인 폼 하단에 해당 에러 메시지를 표시한다. ID 입력 필드는 유지하고 PW 필드는 비운다. |
| 3 | 올바른 비밀번호를 다시 입력하고 '로그인' 버튼을 클릭한다. | **POST /api/auth/login/** 요청을 다시 보낸다. 서버는 인증 성공 후 세션 쿠키를 발급하고 대시보드로 리디렉션한다. |
| 4 | 개인 대시보드 화면이 성공적으로 표시되는 것을 확인한다. | `GET /api/apps/`를 통해 이사원의 앱 목록을 가져와 화면에 렌더링한다. |

#### **시나리오 4: 권한 없는 사용자의 첫 로그인 시도**

- **Actor:** 최사원 (신규 입사자, 포털 접근 권한 없음)
- **Pre-conditions:** 최사원은 유효한 사내 계정을 발급받았지만, 아직 개인화 포털 접근 권한은 부여받지 못했다.
- **Goal:** 포털에 처음으로 로그인하여 접근 권한을 자동으로 요청한다.
- **Post-conditions:** 최사원의 계정에 대한 접근 권한 요청이 관리자에게 전송된다. 최사원은 로그인에 성공하지 못하고, 안내 메시지를 확인한다.

| 단계 | 사용자 행동 (User Action) | 시스템 반응 (System Response) |
| :--- | :--- | :--- |
| 1 | 포털 로그인 페이지에 접속하여 자신의 유효한 ID와 비밀번호를 입력 후 '로그인' 버튼을 클릭한다. | **POST /api/auth/login/** 요청을 보낸다. 서버는 계정 정보(ID, PW)가 유효함을 확인한다. |
| 2 | "권한이 요청되었습니다. 관리자 승인 후 이용 가능합니다." 라는 안내 메시지를 확인한다. | 계정 인증 성공 후, 포털 접근 권한을 확인하지만 권한이 없음을 발견한다. 관리자에게 권한 요청을 생성/전송하고, 클라이언트에게 특정 에러 코드(예: 403 Forbidden)와 함께 해당 안내 메시지를 반환한다. |
| 3 | 로그인 페이지에 머무르는 것을 확인한다. | 사용자는 대시보드로 이동하지 않고, 로그인 페이지에 그대로 머무른다. |
